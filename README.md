# eig

–ü–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ –∞–ª–≥–æ—Ä–∏—Ç–º–∞ –¥–ª—è —Ä–∞—Å—á–µ—Ç–∞ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π –∏ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ –≤–µ–∫—Ç–æ—Ä–∞ 
–∏—Ç–µ—Ä–∞—Ü–∏–æ–Ω–Ω–æ–º –º–µ—Ç–æ–¥–æ–≤.

–ü—Ä–∏—á–∏–Ω–∞: –ø—Ä–∏ —Ä–∞—Å—á–µ—Ç–µ —á–∞—Å—Ç–æ—Ç —Å–≤–æ–±–æ–¥–Ω—ã—Ö –∫–æ–ª–µ–±–∞–Ω–∏–π –∏–ª–∏ —É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç–∏ 
–º–µ—Ç–æ–¥–æ–º –∫–æ–Ω–µ—á–Ω—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤ —Ç—Ä–µ–±—É–µ—Ç—Å—è –∏–º–µ—Ç—å –ª–∏—à—å –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å–æ–±—Å–≤–µ–Ω–Ω—ã—Ö 
–∑–Ω–∞—á–µ–Ω–∏–π —á—Ç–æ –∏ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç—Å—è –∏—Ç–µ—Ä–∞—Ü–∏–æ–Ω–Ω—ã–º–∏ –º–µ—Ç–æ–¥–∞–º–∏, –∞ –Ω–µ –≤—Å–µ—Ö 
–∫–∞–∫ –ø—Ä–∏ —Ä–∞—Å—á–µ—Ç–µ –ø—Ä—è–º—ã–º–∏ –º–µ—Ç–æ–¥–∞–º–∏.

–û–±—â–∏–π –≤–∏–¥ —É—Ä–∞–≤–Ω–µ–Ω–∏—è:
```
A ¬∑ x = Œª ¬∑ B ¬∑ x, 
–≥–¥–µ:
	A,B - —Å–∏–º–º–µ—Ç—Ä–∏—á–Ω—ã–µ –º–∞—Ç—Ä–∏—Ü—ã
	x   - —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–π –≤–µ–∫—Ç–æ—Ä
	Œª   - —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ
```

–ê–ª–≥–æ—Ä–∏—Ç–º –±—É–¥—É –ø–∏—Å–∞—Ç—å –Ω–∞ —è–∑—ã–∫–µ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è `Golang` –≤ —Å–≤—è–∑–∏ —Å —Ç–µ–º,
—á—Ç–æ —è–∑—ã–∫ —É–∂–µ –∑–Ω–∞–∫–æ–º –∏ –æ–±–ª–∞–¥–∞–µ—Ç –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–º –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞—Ä–∏–µ–º –¥–ª—è 
–∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è.

## step00 : –°—Ç–µ–ø–µ–Ω–Ω–æ–π –º–µ—Ç–æ–¥(power method)

–ù–∞—á–Ω—ë–º —Å —É–ø—Ä–æ—â–µ–Ω–Ω–æ–≥–æ —É—Ä–∞–≤–Ω–µ–Ω–∏—è
```
A ¬∑ x = Œª ¬∑ x, 
–≥–¥–µ:
	A   - –º–∞—Ç—Ä–∏—Ü–∞
	x   - —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–π –≤–µ–∫—Ç–æ—Ä
	Œª   - —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ
```

–ù–∞—á–Ω–µ–º —Å —Ä–∞—Å—Å–º–æ—Ç—Ä–µ–Ω–∏—è —Å—Ç–µ–ø–µ–Ω–Ω–æ–≥–æ –º–µ—Ç–æ–¥–∞, –∫–∞–∫ —Å –Ω–∞–∏–±–æ–ª–µ–µ –ø—Ä–æ—Å—Ç–æ–≥–æ —Å —Ç–æ—á–∫–∏
–∑—Ä–µ–Ω–∏—è –ø—Å–µ–≤–¥–æ–∫–æ–¥–∞, –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω –Ω–∏–∂–µ:

```
–í—ã–±–∏—Ä–∞–µ–º –ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω—ã–π –≤–µ–∫—Ç–æ—Ä x(0)
for k = 1,2,...		(while )
	z(k) = A ¬∑ x(k-1)
	x(k) = z(k) / || z(k) ||
	if ||q(k-1)-q(k-2)|| < ùõÜ then break
end

Œª = (Ax , x) / (x , x)

```

–ò—Å–ø–æ–ª—å–∑—É–µ–º–∞—è –ª–∏—Ç–µ—Ä–∞—Ç—É—Ä–∞:
* http://ergodic.ugr.es/cphys/LECCIONES/FORTRAN/power_method.pdf
* http://www.cs.huji.ac.il/~csip/tirgul2.pdf

–°—Ä–∞–∑—É —Å—Ç–æ–∏—Ç –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –¥–∞–Ω–Ω–æ–≥–æ –º–µ—Ç–æ–¥–∞, –∫–æ—Ç–æ—Ä—ã–π –≤—ã—Ä–∞–∂–∞–µ—Ç—Å—è –≤ 
` | Œª1 | > | Œªi | `, —Ç–æ –µ—Å—Ç—å –ø–µ—Ä–≤–æ–µ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –¥–æ–ª–∂–Ω–æ –¥–æ–º–∏–Ω–∏—Ä–æ–≤–∞—Ç—å, 
—á—Ç–æ –Ω–µ –≤—Å–µ–≥–¥–∞ –≤—ã–ø–æ–ª–Ω–∏–º–æ, –∫ –ø—Ä–∏–º–µ—Ä—É:

```
A = 
[1  0]
[0 -1]

Œª1 = 1
Œª2 = -1
```

```
A = 
[ 2 0 0 ]
[ 0 2 0 ]
[ 0 0 1 ]

Œª1 = 2
Œª2 = 2
Œª3 = 1
```

–ù–æ –∑–Ω–∞—è —ç—Ç–æ –Ω–∞–¥–æ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å –∫–∞–∫ –≤–µ–¥—ë—Ç —Å–µ–±—è –∞–ª–≥–æ—Ä–∏—Ç–º.

–ù–∞—á–Ω–µ–º –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞—à–µ–≥–æ –∞–ª–≥–æ—Ä–∏—Ç–º–∞ —Å –∑–∞—Ä–∞–Ω–µ–µ –∑–∞–¥–∞–Ω–Ω—ã—Ö –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π
–∑–∞–¥–∞–≤–∞–µ–º—ã—Ö –Ω–∞ —Ç–µ–∫—É—â–∏–π —ç—Ç–∞–ø, –∞ –∏–º–µ–Ω–Ω–æ:
* –∞–ª–≥–æ—Ä–∏—Ç–º –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —Ä–∞–±–æ—Ç–∞—é—â–∏–º
* –≤ –∫–∞—á–µ—Å—Ç–≤–µ –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –±—É–¥—É—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –º–∞—Ç—Ä–∏—Ü—ã 3—Ö3 –∏ 2—Ö2
* —Ç–µ—Å—Ç –Ω–µ –¥–æ–ª–∂–µ–Ω –∑–∞–Ω–∏–º–∞—Ç—å –±–æ–ª–µ–µ 1 —Å–µ–∫—É–Ω–¥—ã
* –≤–æ–ø—Ä–æ—Å—ã –æ–± –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏, —Ä–∞—Å–ø–∞—Ä–∞–ª–ª–µ–ª–∏–≤–∞–Ω–∏–∏ –∏–≥–Ω–æ—Ä–∏—Ä—É—é—Ç—Å—è
* –∫–∞–∂–¥—ã–π —ç—Ç–∞–ø —Å–æ —Å–≤–æ–∏–º —Ö–∞—Ä–∞–∫—Ç–µ—Ä–Ω—ã–º –∫–æ–¥–æ–º —Ö—Ä–∞–Ω–∏—Ç—å—Å—è –æ—Ç–¥–µ–ª—å–Ω–æ –æ—Ç –¥—Ä—É–≥–∏—Ö - —Ä–∞–∑–±–∏—Ç–æ –Ω–∞ –ø–∞–ø–∫–∏
* —Ä–∞—Å—á–µ—Ç –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç—å—Å—è —Ç–æ–ª—å–∫–æ –æ–¥–Ω–æ–≥–æ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ –∑–Ω–∞—á–µ–Ω–∏–π

–†–∞—Å—Å–º–æ—Ç—Ä–∏–º –∏—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥ `step00`:
```golang
package main

import (
	"fmt"
	"math"
	"math/rand"
	"time"
)

// —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
type eigen struct {
	// —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è
	ùú¶ float64

	// —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–π –≤–µ–∫—Ç–æ—Ä
	ùëø []float64
}

func pm(A [][]float64) (e eigen, err error) {
	n := len(A)
	x := make([]float64, n)
	xLast := make([]float64, n)

	rand.Seed(time.Now().UnixNano())

	// –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω—ã–º –≤–µ–∫—Ç–æ—Ä–æ–º
	for i := range x {
		x[i] = rand.Float64() // [0.0, 1)
	}

	// —Ç–æ—á–Ω–æ—Å—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞
	ùõÜ := 0.001

	for iter := 0; ; iter++ {
		// z(k) = A ¬∑ x(k-1)
		z := make([]float64, n)
		for row := 0; row < n; row++ {
			for col := 0; col < n; col++ {
				z[row] += A[row][col] * x[col]
			}
		}

		// x(k) = z(k) / || z(k) ||
		{
			max := z[0]
			for i := range z {
				if math.Abs(z[i]) > math.Abs(max) {
					max = z[i]
				}
			}
			for i := range x {
				x[i] = z[i] / max
			}
		}

		// ||x(k-1)-x(k-2)|| > ùõÜ
		if iter > 0 {
			var max float64
			for i := range x {
				e := math.Abs(x[i] - xLast[i])
				if e > max {
					max = e
				}
			}
			if max < ùõÜ {
				// –≤—ã—Ö–æ–¥–∏–º –∏–∑ –∏—Ç–µ—Ä–∞—Ü–∏–π
				break
			}
		}

		// —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –ª–∏–º–∏—Ç –Ω–∞ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∏—Ç–µ—Ä–∞—Ü–∏–π
		if iter > 100 {
			err = fmt.Errorf("Iteration limit")
			return
		}

		// –æ—Ç–æ–±—Ä–∞–∂–∞–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç –∫–∞–∂–¥–æ–π –∏—Ç–µ—Ä–∞—Ü–∏–∏
		fmt.Printf("iter: %2d\tx = %v\n", iter, x)
		copy(xLast, x)
	}

	// Œª = (Ax , x) / (x , x)
	e.ùëø = x

	Ax := make([]float64, n)
	for row := 0; row < n; row++ {
		for col := 0; col < n; col++ {
			Ax[row] += A[row][col] * x[col]
		}
	}
	var Axx float64
	for i := range x {
		Axx += Ax[i] * x[i]
	}
	var xx float64
	for i := range x {
		xx += x[i] * x[i]
	}

	e.ùú¶ = Axx / xx

	fmt.Println("e = ", e)

	return
}
```

–¢–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –±—É–¥–µ—Ç —Å–ª–µ–¥—É—é—â–∏–º –æ–±—Ä–∞–∑–æ–º:

```golang
package main

import "testing"

func Test(t *testing.T) {
	t.Run("1", func(t *testing.T) {
		e, err := pm([][]float64{
			{2, -12},
			{1, -5},
		})
		if err != nil {
			t.Fatal(err)
		}
		_ = e
	})
	t.Run("2", func(t *testing.T) {
		e, err := pm([][]float64{
			{4, 5},
			{6, 5},
		})
		if err != nil {
			t.Fatal(err)
		}
		_ = e
	})
}

```

–ü–æ—Å–º–æ—Ç—Ä–∏–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç:

```
=== RUN   Test/1
iter:  0	x = [1 0.4039100393253347]
iter:  1	x = [1 0.3581238769008534]
iter:  2	x = [1 0.3441236223389014]
iter:  3	x = [1 0.3384004255025737]
iter:  4	x = [1 0.33579212584816726]
iter:  5	x = [1 0.3345448562892963]
e =  {-2.00703469759771 [1 0.3339347232253568]}
```
–ü–æ–ª—É—á–µ–Ω–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ –∑–Ω–∞—á–µ–Ω–∏–µ `-2.00703469759771` –±–ª–∏–∑–∫–æ –∫ 
—Ç–æ—á–Ω–æ–º—É –∑–Ω–∞—á–µ–Ω–∏—é `-2`.

```
=== RUN   Test/2
iter:  0	x = [0.8391201728306759 1]
iter:  1	x = [0.8327566516820931 1]
e =  {10.000034031736032 [0.8333910214590675 1]}
--- PASS: Test (0.00s)
    --- PASS: Test/1 (0.00s)
    --- PASS: Test/2 (0.00s)
PASS
ok  	github.com/Konstantin8105/eig/step00	0.003s
```
–ü–æ–ª—É—á–µ–Ω–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ –∑–Ω–∞—á–µ–Ω–∏–µ `10.000034031736032` –±–ª–∏–∑–∫–æ –∫ 
—Ç–æ—á–Ω–æ–º—É –∑–Ω–∞—á–µ–Ω–∏—é `10`.


–î–∞–≤–∞–π—Ç–µ –ø—Ä–æ–≤–µ—Ä–∏–º —á—Ç–æ –±—É–¥–µ—Ç –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç—å –µ—Å–ª–∏ –≤ –∫–∞—á–µ—Å—Ç–≤–µ –º–∞—Ç—Ä–∏—Ü—ã –≤–∑—è—Ç—å, –º–∞—Ç—Ä–∏—Ü—É 
–Ω–µ –∏–º–µ—é—â–∏–µ–π –¥–æ–º–∏–Ω–∞–Ω—Ç–Ω–æ–≥–æ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è, –∫–æ—Ç–æ—Ä—ã–µ –±—ã–ª–∏ –æ–ø–∏—Å–∞–Ω—ã —Ä–∞–Ω–µ–µ.

```go
	t.Run("E3", func(t *testing.T) {
		e, err := pm([][]float64{
			{1, 0},
			{0, -1},
		})
		if err != nil {
			t.Fatal(err)
		}
		_ = e
	})
	t.Run("E4", func(t *testing.T) {
		e, err := pm([][]float64{
			{2, 0, 0},
			{0, 2, 0},
			{0, 0, 1},
		})
		if err != nil {
			t.Fatal(err)
		}
		_ = e
	})
```

```
=== RUN   Test/E3
iter:  0	x = [-0.2758362805320346 1]
iter:  1	x = [0.2758362805320346 1]
iter:  2	x = [-0.2758362805320346 1]
iter:  3	x = [0.2758362805320346 1]
iter:  4	x = [-0.2758362805320346 1]
iter:  5	x = [0.2758362805320346 1]
...
iter: 93	x = [0.2758362805320346 1]
iter: 94	x = [-0.2758362805320346 1]
iter: 95	x = [0.2758362805320346 1]
iter: 96	x = [-0.2758362805320346 1]
iter: 97	x = [0.2758362805320346 1]
iter: 98	x = [-0.2758362805320346 1]
iter: 99	x = [0.2758362805320346 1]
iter: 100	x = [-0.2758362805320346 1]
        main_test.go:33: Iteration limit
=== RUN   Test/E4
iter:  0	x = [0.38516596921127894 1 0.4163313768328755]
iter:  1	x = [0.38516596921127894 1 0.20816568841643776]
iter:  2	x = [0.38516596921127894 1 0.10408284420821888]
iter:  3	x = [0.38516596921127894 1 0.05204142210410944]
iter:  4	x = [0.38516596921127894 1 0.02602071105205472]
iter:  5	x = [0.38516596921127894 1 0.01301035552602736]
iter:  6	x = [0.38516596921127894 1 0.00650517776301368]
iter:  7	x = [0.38516596921127894 1 0.00325258888150684]
iter:  8	x = [0.38516596921127894 1 0.00162629444075342]
e =  {1.999999424211786 [0.38516596921127894 1 0.00081314722037671]}
```

–ö–∞–∫ –º—ã –≤–∏–¥–µ–º –∏–∑ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤, —Ç–µ—Å—Ç –ï3 –Ω–µ —Å—Ö–æ–¥–∏—Ç—å—Å—è, –∞ —Ç–µ—Å—Ç –ï4 —Å—Ö–æ–¥–∏—Ç—å—Å—è, –Ω–æ
—Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–µ –≤–µ–∫—Ç–æ—Ä –Ω–µ –∫–æ—Ä—Ä–µ–∫—Ç–µ–Ω.

## step01 : –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞

```golang
func check(A [][]float64) (e eigen, err error) {
	e, err = pm(A)
	if err != nil {
		return
	}
	// Ax=lx
	// Ax-lx=0
	n := len(A)
	res := make([]float64, n)

	for row := 0; row < n; row++ {
		for col := 0; col < n; col++ {
			res[row] += A[row][col] * e.ùëø[col]
		}
		res[row] -= e.ùú¶ * e.ùëø[row]
	}

	var delta float64
	for i := range res {
		delta += math.Pow(res[i], 2.0)
	}
	delta = math.Sqrt(delta)

	fmt.Printf("Delta = %.10e\n", delta)

	if delta > ùõÜ {
		err = fmt.Errorf("Precition is not ok")
		return
	}

	return
}
```

–£–≤–µ–ª–∏—á–∏–º —Ç–æ—á–Ω–æ—Å—Ç—å:

```golang

// —Ç–æ—á–Ω–æ—Å—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞
var ùõÜ float64 = 1e-6

```

–ø–æ—Å–º–æ—Ç—Ä–∏–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç —Ç–µ—Å—Ç–æ–≤:

```
=== RUN   Test/1
iter:  0	x = [1 0.410232090428574]
iter:  1	x = [1 0.35964342964733637]
iter:  2	x = [1 0.34469484646217846]
...
iter: 13	x = [1 0.33333821562899224]
iter: 14	x = [1 0.33333577440965456]
iter: 15	x = [1 0.33333455385361765]
e =  {-2.0000071399897674 [1 0.33333394358900653]}
Delta = 5.7894349817e-07
=== RUN   Test/2
iter:  0	x = [0.869999217333778 1]
iter:  1	x = [0.8297456718022086 1]
iter:  2	x = [0.8336928734313528 1]
iter:  3	x = [0.8332973870780034 1]
iter:  4	x = [0.833336928036396 1]
iter:  5	x = [0.8333329738638025 1]
e =  {10.000000021214595 [0.8333333692802942 1]}
Delta = 3.0376742543e-07
=== RUN   Test/E3
iter:  0	x = [-0.8239081044647364 1]
iter:  1	x = [0.8239081044647364 1]
iter:  2	x = [-0.8239081044647364 1]
...
iter: 98	x = [-0.8239081044647364 1]
iter: 99	x = [0.8239081044647364 1]
iter: 100	x = [-0.8239081044647364 1]
=== RUN   Test/E4
iter:  0	x = [0.15070757797200232 0.32302703977622665 1]
iter:  1	x = [0.30141515594400464 0.6460540795524533 1]
iter:  2	x = [0.4665478718945736 1 0.7739290189861031]
...
iter: 19	x = [0.4665478718945736 1 5.9046098250282525e-06]
iter: 20	x = [0.4665478718945736 1 2.9523049125141263e-06]
iter: 21	x = [0.4665478718945736 1 1.4761524562570631e-06]
e =  {1.9999999999995528 [0.4665478718945736 1 7.380762281285316e-07]}
Delta = 7.3807622813e-07
```

–†–µ–∑—É–ª—å—Ç–∞—Ç –Ω–µ –∏–∑–º–µ–Ω–∏–ª—Å—è, —Ç–µ—Å—Ç –ï3 –Ω–µ —Å—Ö–æ–¥–∏—Ç—å—Å—è, –∞ —Ç–µ—Å—Ç –ï4 —Å—Ö–æ–¥–∏—Ç—å—Å—è, –Ω–æ
—Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–µ –≤–µ–∫—Ç–æ—Ä –Ω–µ –∫–æ—Ä—Ä–µ–∫—Ç–µ–Ω.

–î–æ–±–∞–≤–∏–º –æ–±—Ä–∞–±–æ—Ç–∫—É –æ—à–∏–±–æ–∫ –¥–ª—è —Ç–µ—Å—Ç–∞ –ï3:
```golang
		// –æ–±—Ä–∞–±–æ—Ç–∫–∞ –ø–æ–≤—Ç–æ—Ä–µ–Ω–∏—è –∑–Ω–∞—á–µ–Ω–∏–π —Ö, –Ω–æ —Å –∏–∑–º–µ–Ω–µ–Ω–∏–µ–º –∑–Ω–∞–∫–∞ –∫—Ä–æ–º–µ 1.0
		isSame := true
		for i := range x {
			if x[i] == 1.0 {
				continue
			}
			if x[i] != -xLast[i] {
				isSame = false
				break
			}
		}
		if isSame {
			err = fmt.Errorf("Loop values x")
			return
		}
```

–î–æ–±–∞–≤–∏–º –æ–±—Ä–∞–±–æ—Ç–∫—É –æ—à–∏–±–æ–∫ –¥–ª—è —Ç–µ—Å—Ç–∞ –ï4:
```golang
		// –∑–Ω–∞—á–µ–Ω–∏–µ —Ö –Ω–µ –∏–∑–º–µ–Ω—è–µ—Ç—Å—è –∫—Ä–æ–º–µ 1.0
		isSame = false
		for i := range x {
			if x[i] == 1.0 && xLast[i] == 1.0 {
				continue
			}
			if x[i] == xLast[i] {
				isSame = true
				break
			}
		}
		if isSame {
			err = fmt.Errorf("one or more values of eigenvector is not change")
			return
		}
```

–ü–æ—Å–º–æ—Ç—Ä–∏–º –Ω–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã:
```
=== RUN   Test
=== RUN   Test/1
iter:  0	x = [1 0.4043840695707527]
iter:  1	x = [1 0.3582406165785594]
iter:  2	x = [1 0.3441678279922198]
...
iter: 13	x = [1 0.33333801520286443]
iter: 14	x = [1 0.333335674202341]
iter: 15	x = [1 0.3333345037513984]
e =  {-2.0000068468961194 [1 0.3333339185382563]}
Delta = 5.5517793764e-07
=== RUN   Test/2
iter:  0	x = [0.9675894666177765 1]
iter:  1	x = [0.820908579637794 1]
iter:  2	x = [0.8345851407421243 1]
iter:  3	x = [0.8332082465431966 1]
iter:  4	x = [0.8333458429512196 1]
iter:  5	x = [0.833332082380934 1]
iter:  6	x = [0.8333334584286672 1]
e =  {9.999999992617324 [0.8333333208238008 1]}
Delta = 1.0571097932e-07
=== RUN   Test/E3
iter:  0	x = [-0.006308903007061117 1]
iter:  1	x = [0.006308903007061117 1]
=== RUN   Test/E4
iter:  0	x = [1 0.5858060710718106 0.16525381480819515]
iter:  1	x = [1 0.5858060710718106 0.08262690740409757]
--- PASS: Test (0.00s)
    --- PASS: Test/1 (0.00s)
    --- PASS: Test/2 (0.00s)
    --- PASS: Test/E3 (0.00s)
        main_test.go:72: Loop values x
    --- PASS: Test/E4 (0.00s)
        main_test.go:84: one or more values of eigenvector is not change
PASS
ok  	github.com/Konstantin8105/eig/step01	0.003s
```

## step02 : –¢–µ—Å—Ç —Å —Ä–∞–∑–ª–∏—á–Ω—ã–º–∏ –∑–Ω–∞—á–µ–Ω–∏—è–º–∏ |ùú¶2|/|ùú¶1|

–ü–µ—Ä–µ–∏–º–µ–Ω—É–µ–º —Ç–µ—Å—Ç—ã –Ω–∞ –±–æ–ª–µ–µ –ø–æ–¥—Ö–æ–¥—è—â–∏–µ –∏ –¥–æ–±–∞–≤–∏–º —Ç–µ—Å—Ç—ã —Å —Ä–∞–∑–Ω—ã–º —Å–æ–æ—Ç–Ω–æ—à–µ–Ω–∏–µ–º
—Å–≤–æ–±–æ–¥–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π.
```golang
	t.Run("Low ratio : |ùú¶2|/|ùú¶1| = 0.1", func(t *testing.T) {
		e, err := check([][]float64{
			{4, 5},
			{6, 5},
		})
		if err != nil {
			t.Fatal(err)
		}
		_ = e
	})
	t.Run("Big ratio : |ùú¶2|/|ùú¶1| = 0.9", func(t *testing.T) {
		e, err := check([][]float64{
			{-4, 10},
			{7, 5},
		})
		if err != nil {
			t.Fatal(err)
		}
		_ = e
	})
```

–í —Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ –≤–∏–¥–Ω–æ —á—Ç–æ —á–µ–º –±–æ–ª—å—à–µ —Å–æ–æ—Ç–Ω–æ—à–µ–Ω–∏–µ |ùú¶2|/|ùú¶1|, —Ç–µ–º –±–æ–ª—å—à–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ 
–∏—Ç–µ—Ä–∞—Ü–∏–π –∏–ª–∏ –ø–æ –¥—Ä—É–≥–æ–º—É, —á–µ–º –¥–∞–ª—å—à–µ –¥—Ä—É–≥ –æ—Ç –¥—Ä—É–≥–∞ |ùú¶1| –∏ |ùú¶2| —Ç–µ–º –±—ã—Å—Ç—Ä–µ–µ –±—É–¥–µ—Ç
—Å—Ö–æ–¥–∏—Ç—å—Å—è.
```
=== RUN   Test/Low_ratio_:_|ùú¶2|/|ùú¶1|_=_0.1
iter:  0	x = [0.7845213075471055 1]
iter:  1	x = [0.8383618058706501 1]
iter:  2	x = [0.8328319986482193 1]
iter:  3	x = [0.8333834818865702 1]
iter:  4	x = [0.8333283186288978 1]
iter:  5	x = [0.8333338348052857 1]
e =  {9.999999970404932 [0.8333332831861533 1]}
Delta = 4.2376543762e-07
=== RUN   Test/Big_ratio_:_|ùú¶2|/|ùú¶1|_=_0.9
iter:  0	x = [0.26898382935618304 1]
iter:  1	x = [1 0.7712726263551744]
iter:  2	x = [0.34198618989492297 1]
...
iter: 130	x = [0.7142851144879747 1]
iter: 131	x = [0.7142862541039066 1]
iter: 132	x = [0.7142852284495247 1]
e =  {9.99999913140197 [0.7142861515384336 1]}
Delta = 6.7603359794e-06
    --- PASS: Test/Low_ratio_:_|ùú¶2|/|ùú¶1|_=_0.1 (0.00s)
    --- FAIL: Test/Big_ratio_:_|ùú¶2|/|ùú¶1|_=_0.9 (0.00s)
        main_test.go:104: Precition is not ok
```


## step03 : –¢–µ—Å—Ç —Å —Ä–∞–∑–ª–∏—á–Ω—ã–º–∏ –∑–Ω–∞—á–µ–Ω–∏—è–º–∏ |ùú¶2|/|ùú¶1| —Å –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ–º

–î–∞–≤–∞–π—Ç–µ —Ä–∞—Å—Å–º–æ—Ç—Ä–∏–º –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ:
```
A ¬∑ x = Œª ¬∑ x
B = A ¬∑ n
B ¬∑ x = ŒªB ¬∑ x
A ¬∑ n ¬∑ x = Œª ¬∑ n ¬∑ x

–≥–¥–µ:
	n   - –ø–æ—Å—Ç–æ—è–Ω–Ω–∞—è
```

–î–æ–±–∞–≤–∏–º –∫–æ–¥:
```golang
	// –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ
	scale := 250.0 // –ø–æ–∫–∞ —ç—Ç–æ –ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω–æ–µ —á–∏—Å–ª–æ
	for row := 0; row < n; row++ {
		for col := 0; col < n; col++ {
			A[row][col] *= scale
		}
	}
	defer func() {
		for row := 0; row < n; row++ {
			for col := 0; col < n; col++ {
				A[row][col] /= scale
			}
		}
		if err == nil {
			e.ùú¶ /= scale
		}
	}()

```

–°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤:

–ë—ã–ª–æ
```
=== RUN   Test
=== RUN   Test/example:_1
iter:  0	x = [1 0.41505506722929053]
...
iter: 15	x = [1 0.3333345925025327]
e =  {-2.0000073660824516 [1 0.3333339629131764]}
Delta = 5.9727628148e-07
=== RUN   Test/example:_2
iter:  0	x = [0.8677381595362804 1]
...
iter:  5	x = [0.833332995622703 1]
e =  {10.000000019930463 [0.8333333671044032 1]}
Delta = 2.8538019963e-07
=== RUN   Test/No_dominant:_1
iter:  0	x = [1 -0.2887417204267915]
iter:  1	x = [1 0.2887417204267915]
=== RUN   Test/No_dominant:_2
iter:  0	x = [0.0036879944609551373 1 0.14299247703760867]
iter:  1	x = [0.0036879944609551373 1 0.07149623851880434]
=== RUN   Test/Low_ratio_:_|ùú¶2|/|ùú¶1|_=_0.1
iter:  0	x = [0.8262774870764508 1]
...
iter:  4	x = [0.833332625022946 1]
e =  {10.00000004180192 [0.833333404164402 1]}
Delta = 5.9855327917e-07
=== RUN   Test/Big_ratio_:_|ùú¶2|/|ùú¶1|_=_0.9
iter:  0	x = [1 0.8347170334810676]
...
iter: 129	x = [0.7142852006468684 1]
e =  {9.999999081695126 [0.7142861765608418 1]}
Delta = 7.1472057939e-06
--- FAIL: Test (0.00s)
    --- PASS: Test/example:_1 (0.00s)
    --- PASS: Test/example:_2 (0.00s)
    --- PASS: Test/No_dominant:_1 (0.00s)
        main_test.go:72: Loop values x
    --- PASS: Test/No_dominant:_2 (0.00s)
        main_test.go:84: one or more values of eigenvector is not change
    --- PASS: Test/Low_ratio_:_|ùú¶2|/|ùú¶1|_=_0.1 (0.00s)
    --- FAIL: Test/Big_ratio_:_|ùú¶2|/|ùú¶1|_=_0.9 (0.00s)
        main_test.go:104: Precition is not ok
```

–°—Ç–∞–ª–æ
```
=== RUN   Test
=== RUN   Test/example:_1
iter:  0	x = [1 0.3970094718669067]
...
iter: 15	x = [1 0.3333344348877632]
e =  {-2.000006444049512 [1 0.33333388410690795]}
Delta = 5.2251305819e-07
=== RUN   Test/example:_2
iter:  0	x = [0.9665420787664261 1]
...
iter:  6	x = [0.8333334575188529 1]
e =  {9.999999992671016 [0.8333333209147823 1]}
Delta = 1.0494214707e-07
=== RUN   Test/No_dominant:_1
iter:  0	x = [1 -0.6300067252143378]
iter:  1	x = [1 0.6300067252143378]
e =  {0 []}
=== RUN   Test/No_dominant:_2
iter:  0	x = [0.44959179856179154 1 0.8284975407886491]
iter:  1	x = [0.44959179856179154 1 0.41424877039432456]
e =  {0 []}
=== RUN   Test/Low_ratio_:_|ùú¶2|/|ùú¶1|_=_0.1
iter:  0	x = [0.8526777191589066 1]
...
iter:  5	x = [0.8333331419093029 1]
e =  {10.000000011297157 [0.8333333524757386 1]}
Delta = 1.6176163487e-07
=== RUN   Test/Big_ratio_:_|ùú¶2|/|ùú¶1|_=_0.9
iter:  0	x = [1 0.726848993174966]
...
iter: 132	x = [0.7142861993845608 1]
e =  {10.000000867276368 [0.7142852776969006 1]}
Delta = 6.7500719937e-06
--- FAIL: Test (0.00s)
    --- PASS: Test/example:_1 (0.00s)
    --- PASS: Test/example:_2 (0.00s)
    --- PASS: Test/No_dominant:_1 (0.00s)
        main_test.go:72: Loop values x
    --- PASS: Test/No_dominant:_2 (0.00s)
        main_test.go:84: one or more values of eigenvector is not change
    --- PASS: Test/Low_ratio_:_|ùú¶2|/|ùú¶1|_=_0.1 (0.00s)
    --- FAIL: Test/Big_ratio_:_|ùú¶2|/|ùú¶1|_=_0.9 (0.00s)
        main_test.go:104: Precition is not ok
```

–†–µ–∑—É–ª—å—Ç–∞—Ç—ã –Ω–µ –∏–∑–º–µ–Ω–∏–ª–∏—Å—å, –ø–æ—ç—Ç–æ–º—É –¥–∞–Ω–Ω–∞—è –º–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏—è –±–µ—Å–ø–æ–ª–µ–∑–Ω–∞.

## step04: –†–∞–∑–º–µ—Ä –≤—Ö–æ–¥–Ω–æ–π –º–∞—Ç—Ä–∏—Ü—ã



